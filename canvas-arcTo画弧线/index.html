<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <div>
      <canvas id="demo"></canvas>
    </div>
  </body>
  <script>
    const canvas = document.getElementById('demo');

    canvas.width = 600;
    canvas.height = 600;

    const ctx = canvas.getContext('2d');

    ctx.moveTo(100, 100);
    ctx.lineTo(400, 100);
    ctx.lineTo(400, 400);
    ctx.stroke();

    // 测试arcTo函数
    // ctx.beginPath();
    // ctx.moveTo(100, 100);
    // ctx.lineWidth = 6;
    // ctx.strokeStyle = 'red';
    // ctx.arcTo(400, 100, 400, 400, 200);
    // ctx.stroke();
    console.log(ctx.arcTo);

    // 画一个月亮
    const drawMoon = ctx => {
      ctx.beginPath();
      // 首先画最外面的你那个圆，直接用arc画，
      // 假设外圆圆心的位置在（200，250），半径是50，定义一个控制点位置c（300， 250）
      ctx.arc(200, 250, 50, Math.PI * 0.5, Math.PI * 1.5, true); // 要想得到一个圆弧，绘制的顺序应该要一样

      // 画内部的小圆弧，因为不知道角度，不能用arc简单去画，但是可以知道半径用arcTo去画
      const smallRadius = Math.sqrt(50 * 50 + 100 * 100) / 2;

      ctx.moveTo(200, 200);
      ctx.arcTo(300, 250, 200, 300, smallRadius);
      ctx.fillStyle = 'yellow';
      ctx.fill();
      ctx.closePath();
    };

    drawMoon(ctx);
  </script>
</html>
